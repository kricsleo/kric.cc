<button id="theme" class="i-carbon:sun dark:i-carbon:moon nav-link!" title="toggle theme" />

<script is:inline>
  const theme = localStorage.getItem('color-scheme') 
    || (window.matchMedia("(prefers-color-scheme: dark)").matches ? 'dark' : 'light')
  theme === "dark"
    ? document.documentElement.classList.add("dark")
    : document.documentElement.classList.remove("dark")
  document.getElementById("theme").addEventListener("click", () => {
    localStorage.setItem('color-scheme', theme === "dark" ? "light" : "dark")
    document.documentElement.classList.toggle("dark")
  })
</script>